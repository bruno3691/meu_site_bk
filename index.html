<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Burger King Brasil - Peça Já seu Delivery!</title> 
  
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    img-src 'self' data:;
    font-src 'self' https://fonts.gstatic.com;
    connect-src 'self';
    object-src 'none';
    frame-src 'none';
    base-uri 'self';
    form-action 'self';
    upgrade-insecure-requests;
  ">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/all.min.css">
  
  <style>
    /* PALETA DE CORES: Burger King com Estilo Simplificado */
    .bk-red-main { 
        background-color: #BD0000;
    }
    .bk-red-dark { 
        background-color: #990000;
    }
    .bk-yellow-main { 
        background-color: #FFC000;
    }
    .bk-orange-accent { 
        background-color: #E47911;
    }
    .bk-dark-text { 
        color: #333333;
    }
    .bk-light-text { 
        color: #E0E0E0;
    }
    .bk-bg-neutral { 
        background-color: #F8F8F8; 
    }
    .bk-bg-section { 
        background-color: #EEEEEE; 
    }
    .shadow-bk { 
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        border-radius: 8px; 
    }
    .card-hover:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 15px 40px rgba(0,0,0,0.35);
    }
    .menu-item {
        border-radius: 8px; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .menu-item:not(:last-child) {
      border-bottom: none; 
    }
    .category-btn {
        border-radius: 20px; 
        padding: 10px 20px;
        font-weight: 700;
        letter-spacing: 0.05em;
        transition: all 0.2s ease;
    }
    .category-btn.active {
        background-color: #BD0000; 
        color: white;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .navbar-shadow {
      box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
    }
    .btn-bk-primary { 
        background-color: #BD0000;
        color: white;
        border-radius: 8px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    .btn-bk-primary:hover {
        background-color: #990000;
    }
    .btn-bk-accent { 
        background: linear-gradient(135deg, #FFC000 0%, #E47911 100%);
        color: #333333; 
        border-radius: 8px;
    }
    .btn-bk-accent:hover {
        opacity: 0.9;
    }

    /* Estilos dos Popups */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    .modal-content {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        max-width: 500px;
        width: 90%;
        transform: translateY(20px);
        transition: transform 0.3s ease;
        position: relative;
    }
    .modal-overlay.active .modal-content {
        transform: translateY(0);
    }
    .modal-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: #666;
    }
    .quantity-selector {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 1rem;
    }
    .quantity-selector button { /* Botoes de quantidade removidos por CSS */
        display: none; 
    }
    .quantity-selector input {
        width: 100px; /* Alargado para o input centralizado */
        text-align: center;
        border: 1px solid #CCC;
        margin: 0; /* Removido margin lateral */
        padding: 0.5rem 0;
        border-radius: 4px;
        font-size: 1.2rem;
        pointer-events: none; /* Impede edição manual */
    }

    /* Estilos para campos do checkout */
    .checkout-form label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
    }
    .checkout-form input[type="text"],
    .checkout-form input[type="email"],
    .checkout-form input[type="tel"] {
        width: 100%;
        padding: 0.75rem;
        margin-bottom: 1rem;
        border: 1px solid #CCC;
        border-radius: 8px;
        box-sizing: border-box; /* Garante padding incluso na largura total */
    }
    .checkout-form .grid {
        display: grid;
        gap: 1rem;
    }
    @media (min-width: 640px) { /* Tailwing 'sm' breakpoint */
        .checkout-form .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
    }

    /* Contador Regressivo */
    .countdown-container {
        background-color: #000;
        padding: 1.5rem;
        border-radius: 10px;
        margin-top: 2rem;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        text-align: center;
    }
    .countdown-label {
        font-size: 0.9rem;
        color: #FF6347; /* Laranja/Vermelho para destaque */
        text-transform: uppercase;
        font-weight: bold;
        letter-spacing: 0.1em;
        margin-bottom: 0.5rem;
    }
    .countdown-timer {
        font-size: 2.8rem;
        font-weight: 800;
        color: #FFC000; /* Amarelo BK para o tempo */
        text-shadow: 2px 2px 5px rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        gap: 0.5rem;
    }
    .countdown-unit {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .countdown-value {
        font-size: 2.8rem;
        line-height: 1;
    }
    .countdown-label-small {
        font-size: 0.8rem;
        text-transform: uppercase;
        color: #AAA;
        margin-top: 0.2rem;
    }

    /* Custom scrollbar for menu categories */
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body class="font-['Montserrat'] bg-bk-neutral-bg text-bk-dark-text">
  <header class="bk-red-main py-4 navbar-shadow">
    <div class="container mx-auto px-4">
      <div class="flex justify-center items-center">
        <a href="#" class="flex items-center">
          <img src="img/burger_king_logo.svg" alt="Burger King Logo Oficial" class="h-10 md:h-12 mx-auto">
        </a>
        <div class="absolute right-4 hidden md:flex space-x-2">
          <a href="#" class="text-white hover:text-bk-yellow-main px-3 py-1 rounded-full" aria-label="Carrinho">
            <i class="fas fa-shopping-bag"></i>
          </a>
        </div>
      </div>
    </div>
  </header>

  <nav class="bg-white py-3 navbar-shadow sticky top-0 z-50">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center">
        <button id="mobile-menu-button" class="md:hidden text-bk-dark-text focus:outline-none" aria-label="Abrir menu mobile">
          <i class="fas fa-bars text-xl"></i>
        </button>

        <div class="hidden md:flex space-x-1">
          <a href="#cardapio" class="px-4 py-2 rounded-md hover:bg-bk-light-gray font-medium transition duration-200 text-bk-dark-text uppercase category-btn">Cardápio</a>
          <a href="#delivery" class="px-4 py-2 rounded-md hover:bg-bk-light-gray font-medium transition duration-200 text-bk-dark-text uppercase category-btn">Delivery</a>
        </div>

        <div class="hidden md:flex space-x-2">
          <a href="#cardapio" class="btn-bk-primary px-4 py-2 rounded-md font-medium transition duration-200">
            <i class="fas fa-plus mr-2"></i> PEDIR AGORA
          </a>
        </div>
      </div>

      <div id="mobile-menu" class="hidden md:hidden py-2 space-y-2 bg-white rounded-lg shadow-bk">
        <a href="#cardapio" class="block px-4 py-2 rounded-md hover:bg-bk-light-gray font-medium text-bk-dark-text uppercase">Cardápio</a>
        <a href="#delivery" class="block px-4 py-2 rounded-md hover:bg-bk-light-gray font-medium text-bk-dark-text uppercase">Delivery</a>
        <div class="pt-2 space-y-2">
          <a href="#cardapio" class="block btn-bk-primary px-4 py-2 rounded-md font-medium">
            PEDIR AGORA
          </a>
        </div>
      </div>
    </div>
  </nav>

  <section class="relative">
    <div class="bk-red-main bg-opacity-90 pt-16 pb-24 px-4 shadow-bk">
      <div class="container mx-auto flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 text-center md:text-left mb-8 md:mb-0">
          <h2 class="text-4xl md:text-5xl font-extrabold text-white mb-4 uppercase tracking-wider">Preço Baixo. "Economia" para quem só busca BK!</h2>
          <p class="text-xl text-gray-200 mb-6 font-light">
            Essa oferta não volta. Garanta antes que acabe.
          </p>
          
          <div class="countdown-container">
              <p class="countdown-label">OFERTA EXPIRA EM:</p>
              <div id="black-malandragem-countdown" class="countdown-timer">
                  <div class="countdown-unit"><span id="countdown-days" class="countdown-value">00</span><span class="countdown-label-small">DIAS</span></div>
                  <div class="countdown-unit"><span class="countdown-value">:</span></div>
                  <div class="countdown-unit"><span id="countdown-hours" class="countdown-value">00</span><span class="countdown-label-small">HORAS</span></div>
                  <div class="countdown-unit"><span class="countdown-value">:</span></div>
                  <div class="countdown-unit"><span id="countdown-minutes" class="countdown-value">00</span><span class="countdown-label-small">MIN</span></div>
                  <div class="countdown-unit"><span class="countdown-value">:</span></div>
                  <div class="countdown-unit"><span id="countdown-seconds" class="countdown-value">00</span><span class="countdown-label-small">SEG</span></div>
              </div>
              <p class="text-xs text-gray-400 mt-2">Corra! Unidades Limitadíssimas!</p>
          </div>

          <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 justify-center md:justify-start mt-8">
            <a href="#cardapio" class="btn-bk-accent px-6 py-3 rounded-md font-medium transition duration-300 shadow-lg">
              VER CARDÁPIO AGORA
            </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <img src="img/banner_grelhado.png" 
               alt="Oferta Black" 
               class="h-64 md:h-80 lg:h-96 object-contain hover:scale-105 transition duration-300">
        </div>
      </div>
    </div>
    <div class="absolute bottom-0 left-0 right-0 h-8 bg-white rounded-t-3xl"></div>
  </section>

  <section id="cardapio" class="menu-section py-12 bg-bk-bg-section rounded-lg shadow-bk">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold bk-red-text mb-2 text-center uppercase tracking-wide">Nosso Cardápio para Delivery</h2>
      <div class="w-16 h-1 bk-yellow-gradient rounded-full mx-auto mb-8"></div>

      <div class="flex overflow-x-auto pb-4 mb-6 scrollbar-hide">
        <div class="flex space-x-2">
          <button class="category-btn btn-bk-primary text-white font-medium whitespace-nowrap" data-category="lanches">
            Lanches
          </button>
          <button class="category-btn bg-gray-200 hover:bg-gray-300 font-medium whitespace-nowrap text-bk-dark-text">Acompanhamentos</button>
          <button class="category-btn bg-gray-200 hover:bg-gray-300 font-medium whitespace-nowrap text-bk-dark-text">Sobremesas</button>
          <button class="category-btn bg-gray-200 hover:bg-gray-300 font-medium whitespace-nowrap text-bk-dark-text">Bebidas</button>
          <button class="category-btn bg-gray-200 hover:bg-gray-300 font-medium whitespace-nowrap text-bk-dark-text">Café da manhã</button>
        </div>
      </div>

      <div id="lanches" class="menu-category"> 
        <h3 class="text-2xl font-bold text-bk-dark-text mb-6 flex items-center">
          <i class="fas fa-burger mr-3 bk-yellow-text"></i> Lanches
        </h3>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/whopper.png" 
                   alt="Whopper" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <div class="flex justify-between items-start">
                <h4 class="font-bold text-bk-dark-text">Whopper</h4>
                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">O Original</span>
              </div>
              <p class="text-gray-600 text-sm my-1">O sabor inconfundível do hambúrguer grelhado no fogo, alface, tomate, picles e maionese.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Whopper" data-price="5.00" data-description="O sabor inconfundível do hambúrguer grelhado no fogo, alface, tomate, picles e maionese." data-image="img/whopper.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/stacker_duplo.png" 
                   alt="Stacker Duplo" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <div class="flex justify-between items-start">
                <h4 class="font-bold text-bk-dark-text">Stacker Duplo</h4>
                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Favorito</span>
              </div>
              <p class="text-gray-600 text-sm my-1">Dois hambúrgueres grelhados, queijo derretido e fatias de bacon crocante.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Stacker Duplo" data-price="5.00" data-description="Dois hambúrgueres grelhados, queijo derretido e fatias de bacon crocante." data-image="img/stacker_duplo.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/chicken_crisp.png" 
                   alt="Chicken Crisp" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <div class="flex justify-between items-start">
                <h4 class="font-bold text-bk-dark-text">Chicken Crisp</h4>
                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Popular</span>
              </div>
              <p class="text-gray-600 text-sm my-1">Filé de frango empanado e crocante, alface, tomate e maionese.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Chicken Crisp" data-price="5.00" data-description="Filé de frango empanado e crocante, alface, tomate e maionese." data-image="img/chicken_crisp.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/mega_stacker.png" 
                   alt="Mega Stacker" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <div class="flex justify-between items-start">
                <h4 class="font-bold text-bk-dark-text">Mega Stacker</h4>
                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Exclusivo!</span> </div>
              <p class="text-gray-600 text-sm my-1">Até 4 hambúrgueres grelhados, muito queijo e bacon, molho Stacker.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Mega Stacker" data-price="5.00" data-description="Até 4 hambúrgueres grelhados, muito queijo e bacon, molho Stacker." data-image="img/mega_stacker.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="acompanhamentos" class="menu-category"> 
        <h3 class="text-2xl font-bold text-bk-dark-text mb-6 flex items-center">
          <i class="fas fa-fries mr-3 bk-yellow-text"></i> Acompanhamentos
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/batata_king.png" 
                   alt="Batata King" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Batata King</h4>
              <p class="text-gray-600 text-sm my-1">Nossas famosas batatas fritas crocantes e quentinhas.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Batata King" data-price="5.00" data-description="Nossas famosas batatas fritas crocantes e quentinhas." data-image="img/batata_king.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/onion_rings.png" 
                   alt="Onion Rings" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Onion Rings</h4>
              <p class="text-gray-600 text-sm my-1">Anéis de cebola crocantes por fora, macios por dentro.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Onion Rings" data-price="5.00" data-description="Anéis de cebola crocantes por fora, macios por dentro." data-image="img/onion_rings.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="sobremesas" class="menu-category"> 
        <h3 class="text-2xl font-bold text-bk-dark-text mb-6 flex items-center">
          <i class="fas fa-ice-cream mr-3 bk-yellow-text"></i> Sobremesas
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/sundae.png" 
                   alt="Sundae" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Sundae</h4>
              <p class="text-gray-600 text-sm my-1">Sorvete de baunilha com calda de chocolate, morango ou caramelo.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Sundae" data-price="5.00" data-description="Sorvete de baunilha com calda de chocolate, morango ou caramelo." data-image="img/sundae.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/casquinha.png" 
                   alt="Casquinha" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Casquinha</h4>
              <p class="text-gray-600 text-sm my-1">Nosso delicioso sorvete de baunilha na casquinha crocante.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Casquinha" data-price="5.00" data-description="Nosso delicioso sorvete de baunilha na casquinha crocante." data-image="img/casquinha.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="bebidas" class="menu-category"> 
        <h3 class="text-2xl font-bold text-bk-dark-text mb-6 flex items-center">
          <i class="fas fa-mug-hot mr-3 bk-yellow-text"></i> Bebidas
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/refrigerante.png" 
                   alt="Refrigerante" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Refrigerante</h4>
              <p class="text-gray-600 text-sm my-1">Diversos sabores de refrigerante para acompanhar seu pedido.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Refrigerante" data-price="5.00" data-description="Diversos sabores de refrigerante para acompanhar seu pedido." data-image="img/refrigerante.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/suco.png" 
                   alt="Suco" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Suco</h4>
              <p class="text-gray-600 text-sm my-1">Sucos naturais e refrescantes de diversos sabores.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Suco" data-price="5.00" data-description="Sucos naturais e refrescantes de diversos sabores." data-image="img/suco.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="cafe" class="menu-category"> 
        <h3 class="text-2xl font-bold text-bk-dark-text mb-6 flex items-center">
          <i class="fas fa-coffee mr-3 bk-yellow-text"></i> Café da Manhã
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/cafe.png" 
                   alt="Café" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Café</h4>
              <p class="text-gray-600 text-sm my-1">Nosso café fresquinho e aromático para começar o dia.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Café" data-price="5.00" data-description="Nosso café fresquinho e aromático para começar o dia." data-image="img/cafe.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="menu-item bg-white p-4 rounded-lg shadow-bk flex">
            <div class="w-24 h-24 flex-shrink-0 mr-4">
              <img src="img/pao_de_queijo.png" 
                   alt="Pão de Queijo" class="w-full h-full object-cover rounded-lg">
            </div>
            <div class="flex-grow">
              <h4 class="font-bold text-bk-dark-text">Pão de Queijo</h4>
              <p class="text-gray-600 text-sm my-1">O tradicional pão de queijo quentinho e delicioso.</p>
              <div class="flex justify-between items-center mt-2">
                <span class="bk-red-text font-bold">R$ 5,00</span> <button class="add-to-cart btn-bk-accent hover:opacity-90 text-bk-dark-text w-8 h-8 rounded-full flex items-center justify-center transition duration-200"
                        data-name="Pão de Queijo" data-price="5.00" data-description="O tradicional pão de queijo quentinho e delicioso." data-image="img/pao_de_queijo.png" data-original-price="25.00"> <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="delivery" class="menu-section py-16 bk-red-main text-white shadow-bk">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
          <h2 class="text-3xl font-bold mb-4 uppercase tracking-wide">BK DELIVERY - PEÇA ONLINE!</h2>
          <p class="text-lg text-gray-200 mb-6 font-light">Peça seus favoritos do Burger King e receba-os quentinhos, direto na sua porta!</p>
          <div class="grid grid-cols-2 gap-4">
            <a href="#" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-4 rounded-md text-center transition duration-300 shadow-bk flex justify-center items-center">
              <img src="img/ifood_logo.png" alt="Logo iFood" class="h-6 mr-2"> iFood
            </a>
            <a href="#" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-4 rounded-md text-center transition duration-300 shadow-bk flex justify-center items-center">
              <img src="img/rappi_logo.png" alt="Logo Rappi" class="h-6 mr-2"> Rappi
            </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <img src="img/bk_delivery_banner.png" 
               alt="BK Delivery" 
               class="w-full max-w-md hover:scale-105 transition duration-300">
        </div>
      </div>
    </div>
  </section>

  <footer class="bg-bk-dark-text text-white pt-12 pb-6">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center mb-4">
        <h3 class="font-extrabold text-lg mb-2 md:mb-0 uppercase tracking-wide">BURGER KING</h3>
        <div class="flex space-x-4">
          <a href="#" class="bg-gray-700 hover:bg-white hover:text-bk-red-main w-10 h-10 rounded-full flex items-center justify-center transition duration-300" aria-label="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="bg-gray-700 hover:bg-white hover:text-bk-red-main w-10 h-10 rounded-full flex items-center justify-center transition duration-300" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="bg-gray-700 hover:bg-white hover:text-bk-red-main w-10 h-10 rounded-full flex items-center justify-center transition duration-300" aria-label="Twitter">
            <i class="fab fa-twitter"></i>
          </a>
        </div>
      </div>
      <div class="pt-6 border-t border-gray-700 text-center">
        <p class="text-gray-400 text-sm">
          © <span id="current-year"></span> Burger King Brasil. Todos os direitos reservados.
          <br class="md:hidden">
          TM & © 2025 Burger King Corporation. Todos os direitos reservados.
        </p>
      </div>
    </div>
  </footer>

  <div class="fixed bottom-6 right-6 z-50">
    <button id="cart-button" class="bg-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-bk-dark-text relative hover:scale-110 transition duration-300">
      <i class="fas fa-shopping-bag text-2xl"></i>
      <span id="cart-count" class="absolute -top-1 -right-1 bk-red-main text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full">0</span>
    </button>
    
    <div id="cart-dropdown" class="hidden absolute bottom-16 right-0 w-72 bg-white rounded-lg shadow-bk border border-gray-700 p-4">
      <h3 class="font-bold mb-3 text-bk-dark-text">Seu Pedido</h3>
      <div id="cart-items" class="mb-4 max-h-60 overflow-y-auto">
        <p class="text-gray-500 text-sm py-4 text-center">Seu carrinho está vazio</p>
      </div>
      <div class="border-t border-gray-700 pt-3">
        <div class="flex justify-between font-bold mb-3 text-bk-dark-text">
          <span>Total:</span>
          <span id="cart-total">R$ 0,00</span>
        </div>
        <a href="#" class="block btn-bk-primary hover:opacity-90 text-white text-center py-2 rounded-lg font-medium transition duration-300">
          Finalizar Pedido
        </a>
      </div>
    </div>
  </div>

  <div id="product-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <button id="modal-close-btn" class="modal-close-btn">&times;</button>
      <img id="modal-image" src="" alt="Imagem do Produto" class="w-full h-48 object-contain mb-4 rounded-lg">
      <h3 id="modal-name" class="text-2xl font-bold text-bk-dark-text mb-2"></h3>
      <p id="modal-description" class="text-gray-600 text-sm mb-4"></p>
      <div class="flex justify-between items-center mb-4">
        <span class="text-lg text-gray-500 line-through mr-2" id="modal-original-price-display"></span> <span class="text-3xl font-bold bk-red-text" id="modal-price-display">R$ 0,00</span> <div class="quantity-selector">
          <button id="decrease-quantity" style="display: none;">-</button> <input type="number" id="quantity-input" value="1" min="1" readonly>
          <button id="increase-quantity" style="display: none;">+</button> </div>
      </div>
      <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
        <button id="modal-add-to-cart-btn" class="btn-bk-accent hover:opacity-90 text-bk-dark-text py-3 rounded-lg font-bold flex-grow">
          <i class="fas fa-cart-plus mr-2"></i> Adicionar ao Carrinho
        </button>
        <button id="modal-finalize-order-btn" class="btn-bk-primary hover:opacity-90 text-white py-3 rounded-lg font-bold flex-grow">
          <i class="fas fa-check-circle mr-2"></i> Finalizar Pedido
        </button>
      </div>
    </div>
  </div>

  <div id="checkout-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <button id="checkout-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="text-2xl font-bold text-bk-dark-text mb-4">Finalizar Pedido</h3>
      <form id="checkout-form" class="checkout-form">
        <label for="checkout-name">Nome Completo:</label>
        <input type="text" id="checkout-name" required>

        <label for="checkout-email">E-mail:</label>
        <input type="email" id="checkout-email" required>

        <label for="checkout-phone">Telefone:</label>
        <input type="tel" id="checkout-phone" required>

        <label for="checkout-street">Endereço:</label>
        <input type="text" id="checkout-street" placeholder="Rua, Avenida" required>

        <div class="grid grid-cols-2">
            <div>
                <label for="checkout-number">Número:</label>
                <input type="text" id="checkout-number" required>
            </div>
            <div>
                <label for="checkout-complement">Complemento (apto, bloco):</label>
                <input type="text" id="checkout-complement">
            </div>
        </div>

        <label for="checkout-neighborhood">Bairro:</label>
        <input type="text" id="checkout-neighborhood" required>
        
        <div class="grid grid-cols-2">
            <div>
                <label for="checkout-city">Cidade:</label>
                <input type="text" id="checkout-city" required>
            </div>
            <div>
                <label for="checkout-state">Estado (UF):</label>
                <input type="text" id="checkout-state" maxlength="2" required>
            </div>
        </div>

        <label for="checkout-cep">CEP:</label>
        <input type="text" id="checkout-cep" required>

        <button type="submit" id="submit-order-btn" class="btn-bk-primary w-full py-3 mt-4">
          Enviar Pedido
        </button>
      </form>
    </div>
  </div>

  <script>
    // Get current year for footer
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    // Adiciona checagens de nullidade para elementos antes de adicionar listeners
    if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobile-menu a').forEach(link => {
          link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
          });
        });
    }

    // Category buttons
    const categoryButtons = document.querySelectorAll('.category-btn');
    const menuCategories = document.querySelectorAll('.menu-category');
    // Adiciona checagens de nullidade para elementos antes de adicionar listeners
    if (categoryButtons.length > 0 && menuCategories.length > 0) { 
        categoryButtons.forEach(button => {
            if (button) { 
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => {
                      btn.classList.remove('btn-bk-primary', 'text-white'); 
                      btn.classList.add('bg-gray-200', 'hover:bg-gray-300', 'text-bk-dark-text'); 
                    });
                    
                    button.classList.remove('bg-gray-200', 'hover:bg-gray-300', 'text-bk-dark-text'); 
                    button.classList.add('btn-bk-primary', 'text-white'); 
                    
                    // LÓGICA DE ESCONDER/MOSTRAR CATEGORIAS REMOVIDA PARA MOSTRAR TODAS POR PADRÃO.
                    // A rolagem para a categoria clicada permanece.
                    const categoryId = button.getAttribute('data-category');
                    const targetCategory = document.getElementById(categoryId);
                    if (targetCategory) { 
                        document.getElementById('cardapio').scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }
        });
    }


    // Cart functionality
    const cartButton = document.getElementById('cart-button');
    const cartDropdown = document.getElementById('cart-dropdown');
    const cartCount = document.getElementById('cart-count');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    
    let cart = [];
    function saveCart() {
        localStorage.setItem('bkDeliveryCart', JSON.stringify(cart)); 
    }
    function loadCart() {
        const storedCart = localStorage.getItem('bkDeliveryCart'); 
        if (storedCart) {
            cart = JSON.parse(storedCart);
            updateCartUI();
        }
    }

    // Toggle cart dropdown
    if (cartButton && cartDropdown) { 
        cartButton.addEventListener('click', (event) => {
          event.stopPropagation(); 
          cartDropdown.classList.toggle('hidden');
        });
        document.addEventListener('click', (event) => {
          if (!cartButton.contains(event.target) && !cartDropdown.contains(event.target)) {
            cartDropdown.classList.add('hidden');
          }
        });
    }

    // --- POPUP / MODAL DE PRODUTO ---
    const productModalOverlay = document.getElementById('product-modal-overlay');
    const modalCloseBtn = document.getElementById('modal-close-btn');
    const modalImage = document.getElementById('modal-image');
    const modalName = document.getElementById('modal-name');
    const modalDescription = document.getElementById('modal-description');
    const modalPriceDisplay = document.getElementById('modal-price-display');
    const modalOriginalPriceDisplay = document.getElementById('modal-original-price-display'); // Pega o span do preço original
    const quantityInput = document.getElementById('quantity-input');
    const decreaseQuantityBtn = document.getElementById('decrease-quantity'); 
    const increaseQuantityBtn = document.getElementById('increase-quantity'); 
    const modalAddToCartBtn = document.getElementById('modal-add-to-cart-btn');
    const modalFinalizeOrderBtn = document.getElementById('modal-finalize-order-btn');

    let currentProduct = null;

    if (productModalOverlay && modalCloseBtn && modalImage && modalName && modalDescription && modalPriceDisplay && modalOriginalPriceDisplay && quantityInput && decreaseQuantityBtn && increaseQuantityBtn && modalAddToCartBtn && modalFinalizeOrderBtn) {
        function openProductModal(name, price, description, image_src, original_price) {
            currentProduct = { name, price, description, image_src, original_price };
            modalImage.src = image_src;
            modalName.textContent = name;
            modalDescription.textContent = description;
            quantityInput.value = 1; // Sempre 1 para o item
            updateModalPrice();

            // Exibe o preço original riscado se ele existir
            if (modalOriginalPriceDisplay && original_price) {
                modalOriginalPriceDisplay.textContent = `R$ ${parseFloat(original_price).toFixed(2).replace('.', ',')}`;
                modalOriginalPriceDisplay.style.display = 'inline'; // Mostra o span
            } else {
                modalOriginalPriceDisplay.style.display = 'none'; // Esconde se não houver original_price
            }
            productModalOverlay.classList.add('active');
        }

        function closeProductModal() {
            productModalOverlay.classList.remove('active');
            currentProduct = null;
        }

        function updateModalPrice() {
            if (currentProduct) {
                const quantity = parseInt(quantityInput.value); // Será sempre 1 aqui
                const total = currentProduct.price * quantity;
                modalPriceDisplay.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
                
                // Atualiza o preço original riscado com base na quantidade também
                if (modalOriginalPriceDisplay && currentProduct.original_price) {
                    const originalTotal = parseFloat(currentProduct.original_price) * quantity; // Será sempre 1 aqui
                    modalOriginalPriceDisplay.textContent = `R$ ${originalTotal.toFixed(2).replace('.', ',')}`;
                }
            }
        }

        // BOTOES DE AUMENTAR/DIMINUIR QUANTIDADE AGORA ESTÃO OCULTOS VIA CSS, NÃO PRECISA DE JS PARA ELES AQUI
        // decreaseQuantityBtn.addEventListener('click', () => { ... });
        // increaseQuantityBtn.addEventListener('click', () => { ... });

        modalCloseBtn.addEventListener('click', closeProductModal);
        productModalOverlay.addEventListener('click', (event) => {
            if (event.target === productModalOverlay) {
                closeProductModal();
            }
        });

        modalAddToCartBtn.addEventListener('click', () => {
            if (currentProduct) {
                const quantityToAdd = parseInt(quantityInput.value); // Será sempre 1 aqui
                const existingItemIndex = cart.findIndex(item => item.name === currentProduct.name);

                if (existingItemIndex > -1) {
                  cart[existingItemIndex].quantity += quantityToAdd;
                } else {
                  cart.push({
                    name: currentProduct.name,
                    price: currentProduct.price,
                    quantity: quantityToAdd,
                    image: currentProduct.image
                  });
                }
                updateCartUI();
                saveCart();
                closeProductModal();
            }
        });

        // Modifica o botão de Finalizar Pedido do modal do produto para abrir o checkout
        modalFinalizeOrderBtn.addEventListener('click', () => {
            if (currentProduct) {
                const quantityToAdd = parseInt(quantityInput.value); // Será sempre 1 aqui
                const existingItemIndex = cart.findIndex(item => item.name === currentProduct.name);

                if (existingItemIndex > -1) {
                  cart[existingItemIndex].quantity += quantityToAdd;
                } else {
                  cart.push({
                    name: currentProduct.name,
                    price: currentProduct.price,
                    quantity: quantityToAdd,
                    image: currentProduct.image
                  });
                }
                updateCartUI();
                saveCart();
                closeProductModal(); 
                openCheckoutModal(); 
            }
        });

        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        if (addToCartButtons.length > 0) {
            addToCartButtons.forEach(button => {
              const oldHandler = button.onclick; 
              if (oldHandler) {
                  button.removeEventListener('click', oldHandler);
              }
              button.addEventListener('click', () => {
                const itemName = button.dataset.name;
                const itemPrice = parseFloat(button.dataset.price);
                const itemDescription = button.dataset.description;
                const itemImage = button.dataset.image;
                const itemOriginalPrice = button.dataset.originalPrice; // Pega o preço original
                openProductModal(itemName, itemPrice, itemDescription, itemImage, itemOriginalPrice); // Passa o preço original
              });
            });
        }
    }


    // Update cart UI 
    function updateCartUI() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalItems;
      
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p class="text-gray-500 text-sm py-4 text-center">Seu carrinho está vazio</p>';
      } else {
        cart.forEach((item, index) => {
          const itemElement = document.createElement('div');
          itemElement.className = 'flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0';
          // GARANTIDO COM CRASES CORRETAS
          itemElement.innerHTML = `
            <div>
              <p class="font-medium text-bk-dark-text"><span class="math-inline">\{item\.name\} <span class\="text\-gray\-500 text\-sm"\>x</span>{item.quantity}</span></p>
              <p class="text-sm text-gray-500">R$ <span class="math-inline">\{\(item\.price \* item\.quantity\)\.toFixed\(2\)\.replace\('\.', ','\)\}</p\>
</div\>
<button class\="remove\-item text\-red\-500 p\-1 rounded\-full hover\:bg\-red\-100" data\-index\="</span>{index}" aria-label="Remover item">
              <i class="fas fa-times"></i>
            </button>
          `; 
          cartItemsContainer.appendChild(itemElement);
        });

        // Event delegation para botões de remover itens no carrinho 
        if (!cartItemsContainer.dataset.hasRemoveListener) { 
            cartItemsContainer.dataset.hasRemoveListener = true; 
            cartItemsContainer.addEventListener('click', (e) => {
                const removeButton = e.target.closest('.remove-item'); 
                if (removeButton) {
                    const index = parseInt(removeButton.getAttribute('data-index'));
                    if (cart[index] !== undefined) { 
                        if (cart[index].quantity > 1) {
                            cart[index].quantity -= 1;
                        } else {
                            cart.splice(index, 1);
                        }
                    } else {
                        console.warn('Tentativa de remover item com índice inválido via delegação. Re-renderizando carrinho.');
                    }
                    updateCartUI(); 
                    saveCart();
                    e.stopPropagation();
                }
            });
        }
      }
      
      const currentTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      cartTotal.textContent = `R$ ${currentTotal.toFixed(2).replace('.', ',')}`;

      // Validação de Pedido Mínimo no JS (NOVO)
      const finalizeOrderDropdownBtn = document.querySelector('#cart-dropdown .btn-bk-primary');
      if (finalizeOrderDropdownBtn) {
          if (currentTotal < 20.00) { // Pedido mínimo de R$ 20,00
              finalizeOrderDropdownBtn.classList.add('opacity-50', 'pointer-events-none'); // Desabilita visualmente e impede clique
              finalizeOrderDropdownBtn.textContent = `Total Mínimo R$ 20,00`; // Mensagem no botão
          } else {
              finalizeOrderDropdownBtn.classList.remove('opacity-50', 'pointer-events-none');
              finalizeOrderDropdownBtn.innerHTML = `Finalizar Pedido`; // Restaura texto
          }
      }
    }

    // Load cart on page load
    document.addEventListener('DOMContentLoaded', loadCart);

    // --- LÓGICA DO MODAL DE CHECKOUT ---
    const checkoutModalOverlay = document.getElementById('checkout-modal-overlay');
    const checkoutCloseBtn = document.getElementById('checkout-close-btn');
    const checkoutForm = document.getElementById('checkout-form');
    const submitOrderBtn = document.getElementById('submit-order-btn');

    // Campos do formulário de checkout
    const checkoutName = document.getElementById('checkout-name');
    const checkoutEmail = document.getElementById('checkout-email');
    const checkoutPhone = document.getElementById('checkout-phone');
    const checkoutStreet = document.getElementById('checkout-street');
    const checkoutNumber = document.getElementById('checkout-number');
    const checkoutComplement = document.getElementById('checkout-complement');
    const checkoutNeighborhood = document.getElementById('checkout-neighborhood');
    const checkoutCity = document.getElementById('checkout-city');
    const checkoutState = document.getElementById('checkout-state');
    const checkoutCep = document.getElementById('checkout-cep');

    if (checkoutModalOverlay && checkoutCloseBtn && checkoutForm && submitOrderBtn) {
        function openCheckoutModal() {
            // Verifica o total do carrinho antes de abrir o checkout
            const currentTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            if (currentTotal < 20.00) { // Pedido mínimo de R$ 20,00
                alert('O valor mínimo para finalizar o pedido é de R$ 20,00. Adicione mais itens!');
                return; // Impede a abertura do modal
            }
            checkoutModalOverlay.classList.add('active');
        }

        function closeCheckoutModal() {
            checkoutModalOverlay.classList.remove('active');
            checkoutForm.reset(); 
        }

        checkoutCloseBtn.addEventListener('click', closeCheckoutModal);
        checkoutModalOverlay.addEventListener('click', (event) => {
            if (event.target === checkoutModalOverlay) {
                closeCheckoutModal();
            }
        });

        checkoutForm.addEventListener('submit', (event) => {
            event.preventDefault(); 

            if (!checkoutName.value || !checkoutEmail.value || !checkoutPhone.value || !checkoutStreet.value || !checkoutNumber.value || !checkoutNeighborhood.value || !checkoutCity.value || !checkoutState.value || !checkoutCep.value) {
                alert('Por favor, preencha todos os campos obrigatórios para finalizar o pedido.');
                return;
            }

            const orderDetails = {
                customer: {
                    name: checkoutName.value,
                    email: checkoutEmail.value,
                    phone: checkoutPhone.value
                },
                address: {
                    street: checkoutStreet.value,
                    number: checkoutNumber.value,
                    complement: checkoutComplement.value,
                    neighborhood: checkoutNeighborhood.value,
                    city: checkoutCity.value,
                    state: checkoutState.value,
                    cep: checkoutCep.value
                },
                items: cart, 
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0)
            };

            console.log('--- PEDIDO ENVIADO ---');
            console.log(JSON.stringify(orderDetails, null, 2));
            alert('Seu pedido foi enviado com sucesso! Acompanhe o status por e-mail ou telefone. Obrigado!');

            cart = [];
            saveCart();
            updateCartUI();
            closeCheckoutModal();
        });
    }

    // Adiciona listener para o botão "Finalizar Pedido" no DROPDOWN do carrinho
    const finalizeOrderDropdownBtn = document.querySelector('#cart-dropdown .btn-bk-primary');
    if (finalizeOrderDropdownBtn) {
        finalizeOrderDropdownBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Seu carrinho está vazio. Adicione produtos antes de finalizar!');
                return;
            }
            // Verifica o total do carrinho antes de abrir o checkout a partir do dropdown
            const currentTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            if (currentTotal < 20.00) { 
                alert('O valor mínimo para finalizar o pedido é de R$ 20,00. Adicione mais itens!');
                return;
            }
            openCheckoutModal(); 
            cartDropdown.classList.add('hidden'); 
        });
    }

    // --- LÓGICA DO CONTADOR REGRESSIVO ---
    // JavaScript para o Contador Regressivo da Oferta
    function startCountdownTimer() {
        const countdownDays = document.getElementById('countdown-days');
        const countdownHours = document.getElementById('countdown-hours');
        const countdownMinutes = document.getElementById('countdown-minutes');
        const countdownSeconds = document.getElementById('countdown-seconds');

        if (!countdownDays || !countdownHours || !countdownMinutes || !countdownSeconds) return; 

        // Defina a data e hora final da sua Oferta (Exemplo: daqui a 10 dias)
        // Isso fará o contador terminar em 16 de junho de 2025, 23:59:59 (considerando a data atual)
        const offerEndDate = new Date('June 16, 2025 23:59:59').getTime(); 

        const countdownInterval = setInterval(function() {
            const now = new Date().getTime();
            const distance = offerEndDate - now;

            if (distance < 0) {
                clearInterval(countdownInterval);
                countdownDays.textContent = '00';
                countdownHours.textContent = '00';
                countdownMinutes.textContent = '00';
                countdownSeconds.textContent = '00';
                const countdownContainer = document.getElementById('black-malandragem-countdown'); // ID do container do cronômetro
                if (countdownContainer) {
                    countdownContainer.innerHTML = "<span class='text-red-500 text-base'>OFERTA ENCERRADA.</span>";
                }
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            countdownDays.textContent = String(days).padStart(2, '0');
            countdownHours.textContent = String(hours).padStart(2, '0');
            countdownMinutes.textContent = String(minutes).padStart(2, '0');
            countdownSeconds.textContent = String(seconds).padStart(2, '0');

        }, 1000);
    }

    // Chama as funções no carregamento da página
    document.addEventListener('DOMContentLoaded', () => {
        loadCart();
        startCountdownTimer(); // Inicia o contador
    });

  </script>
</body>
</html>
